# GLM (Global Long-Term Memory) Python Service

Это gRPC сервис для Глобальной Долгосрочной Памяти (GLM) в рамках проекта Динамической Контекстуализированной Общей Памяти (ДКОП).
Сервис предоставляет API для сохранения, извлечения, обновления и удаления Контекстуализированных Единиц Памяти (КЕП).

## Предварительные требования

*   Python 3.8+
*   Pip

## Настройка и Запуск

1.  **Клонируйте репозиторий** (если это часть большего репозитория, этот шаг может быть пропущен).

2.  **Перейдите в директорию сервиса:**
    ```bash
    cd glm_python_service
    ```

3.  **Создайте и активируйте виртуальное окружение (рекомендуется):**
    ```bash
    python3 -m venv venv
    source venv/bin/activate
    ```

4.  **Установите зависимости:**
    ```bash
    pip install -r requirements.txt
    ```

5.  **Сгенерируйте gRPC код (если еще не сгенерирован или proto-файлы были обновлены):**
    Исходные `.proto` файлы находятся в директории `protos/`. Сгенерированный код помещается в `app/generated_grpc_code/`.
    ```bash
    ./generate_grpc_code.sh
    ```
    *Примечание: скрипт `generate_grpc_code.sh` должен быть исполняемым (`chmod +x generate_grpc_code.sh`). Убедитесь, что он был сделан исполняемым на предыдущих шагах.*

6.  **Запустите gRPC сервер:**
    Сервер будет запущен на порту `50051`.
    ```bash
    python app/main.py
    ```
    Или, если вы находитесь в корневой директории `glm_python_service` и хотите запустить `app` как модуль:
    ```bash
    python -m app.main
    ```


## API

Сервис реализует gRPC интерфейс, определенный в `protos/glm_service.proto`.

Основные методы:
*   `StoreKEMs`: Сохранение одной или нескольких КЕП.
*   `RetrieveKEMs`: Извлечение КЕП по критериям.
*   `UpdateKEM`: Обновление существующей КЕП.
*   `DeleteKEM`: Удаление КЕП.

Обратитесь к файлу `protos/glm_service.proto` для детального описания сообщений запросов и ответов.

## Тестирование

Директория `tests/` предназначена для модульных и интеграционных тестов (пока не реализованы).
